/*
 *         -╥⌐⌐⌐⌐            -⌐⌐⌐⌐-
 *      ≡╢░░░░⌐\░░░φ     ╓╝░░░░⌐░░░░╪╕
 *     ╣╬░░`    `░░░╢┘ φ▒╣╬╝╜     ░░╢╣Q
 *    ║╣╬░⌐        ` ╤▒▒▒Å`        ║╢╬╣
 *    ╚╣╬░⌐        ╔▒▒▒▒`«╕        ╢╢╣▒
 *     ╫╬░░╖    .░ ╙╨╨  ╣╣╬░φ    ╓φ░╢╢Å
 *      ╙╢░░░░⌐"░░░╜     ╙Å░░░░⌐░░░░╝`
 *        ``˚¬ ⌐              ˚˚⌐´
 *
 *      Copyright © 2016 Flipkart.com
 */
package com.flipkart.connekt.commons.tests.services

import com.flipkart.connekt.commons.entities.Channel
import com.flipkart.connekt.commons.metrics.Instrumented
import com.flipkart.connekt.commons.services.TrackingService
import com.flipkart.connekt.commons.services.TrackingService.TrackerOptions
import com.flipkart.connekt.commons.tests.ConnektUTSpec
import com.flipkart.connekt.commons.utils.IdentityURLTransformer

class TrackingServiceTest extends ConnektUTSpec with Instrumented {

  val OneMili = 1000000;

  "Tracking Service " should "parse html and rewrite" in {

    val trackerOptions = TrackerOptions("test.domain.com", Channel.EMAIL, "message-id", Some("campaign-id"), "jane@doe.com", "test-client", "test-app")
    val transformer = new IdentityURLTransformer

    val html =
      """
        |<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n\t<head>\n\t\t<!-- If you delete this tag, the sky will fall on your head -->\n\t\t<meta name=\"viewport\" content=\"width=device-width;initial-scale=1.0; user-scalable=1;\" />\n\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\t\t<title>Flipkart.com</title>\n\t\t<style type=\"text/css\">\n\t\t\t/*********************************/\n\t\t\t/* Reset CSS styles starts */\n\t\t\t/*********************************/\n\t\t\tbody{\n\t\t\t\t-webkit-font-smoothing:antialiased;\n\t\t\t\t-webkit-text-size-adjust:none; width: 100%; height: 100%; margin:0; padding:0;\n\t\t\t\tbackground-color:#ffffff;font-family:\n\t\t\t\tArial,Tahoma,Verdana,sans-serif;font-weight:299px;font-size:13px;\n\t\t\t}\n\t\t\t/* outlook.com / hotmail */\n\t\t\t.ExternalClass {\n\t\t\t\twidth:100%;\n\t\t\t}\n\t\t\t.ExternalClass,\n\t\t\t.ExternalClass p,\n\t\t\t.ExternalClass span,\n\t\t\t.ExternalClass font,\n\t\t\t.ExternalClass td,\n\t\t\t.ExternalClass div {\n\t\t\t\t\tline-height: 100%;\n\t\t\t}\n\t\t\t/* outlook 2007 / 2010 / 2013 */\n\t\t\ttable {\n\t\t\t\t\tmso-table-lspace:0pt;\n\t\t\t\t\tmso-table-rspace:0pt;\n\t\t\t}\n\t\t\timg {\n\t\t\t\t\t-ms-interpolation-mode:bicubic;\n\t\t\t}\n\t\t\t/* OSX / iOS / windows mobile */\n\t\t\tbody {\n\t\t\t\t\t-webkit-text-size-adjust:100%;\n\t\t\t\t\t-ms-text-size-adjust:100%;\n\t\t\t}\n\t\t\timg { border:0px; }\n\t\t\ta:link { color: #666666;text-decoration:none; }\n\t\t\ta:visited { color: #666666;text-decoration:none; }\n\t\t\ta:hover { color: #2271B2;text-decoration:underline; }\n\n\t\t\t/*********************************/\n\t\t\t/* Email related styles */\n\t\t\t/*********************************/\n\t\t\t.body-wrapper { margin: 0px auto;}\n\t\t\tp, div { margin:0; padding:0;}\n\t\t\t.footer { border-bottom:solid 1px #e6e6e6;}\n\n\n\t\t\t* { margin:0; padding:0; font-family: \"Helvetica Neue\", \"Helvetica\", Helvetica, Arial, sans-serif; }\n\t\t\timg { max-width: 100%; }\n\t\t\tp, ul { margin-bottom: 10px; font-weight: normal; font-size:14px; line-height:1.6; }\n\t\t\t.collapse { margin:0!important;}\n\t\t\ta { color: #2BA6CB;}\n\n   \t\t\t\n\n\t\t\t@media only screen and (max-width: 640px) {\n\t\n\t\t\t\ta[class=\"btn\"] { display:block!important; margin-bottom:10px!important; background-image:none!important; margin-right:0!important;}\n\n\t\t\t\tdiv[class=\"column\"] { width: auto!important; float:none!important;}\n\n\t\t\t\ttable.social div[class=\"column\"] {\n\t\t\t\t\twidth:auto!important;\n\t\t\t\t}\n\t\t\t\timg.respImg { width: 50%; }\n\t\t\t\t.h1 { font-size: 13px!important; }\n\t\t\t\t.column-wrap {width: 100%;}\n\t\t\t\ttable {\n    \t\t\twidth: 100% !important;\n  \t\t\t\t}\n  \t\t\t\ttable div {\n    \t\t\tfloat: none !important;\n    \t\t\twidth: 100% !important;\n  \t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body style=\"-webkit-font-smoothing:antialiased; -webkit-text-size-adjust:none; width: 100%; height: 100%; margin:0; padding:0; background-color:#ffffff; font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;font-weight:300;\" bgcolor=\"#ffffff\">\n\t\t<!-- Wrapper table for outlook 2000 / 2002 / 2003/ 2007 / 2010 / 2013 and Lotus notes 8 & 8.5 -->\n\t\t<!--[if (gte mso 9)|(IE)]>\n\t\t<table width=\"600\" class=\"body-wrapper\" cellspacing=\"0\" align=\"center\" cellpadding=\"0\">\n\t\t\t<tr>\n\t\t\t\t<td valign=\"top\" align=\"center\">\n\t\t<![endif]-->\n\n\t\t<table width=\"100%\" class=\"body-wrapper\" cellspacing=\"10\" align=\"center\" cellpadding=\"0\">\n\t\t\t<tr>\n\t\t\t\t<td valign=\"top\" align=\"center\">\n\t\t\t\t\t<!-- ============================================================== -->\n\t\t\t\t\t\t\t\t\t\t\t<!-- HEADER -->\n\t\t\t\t\t<!-- ============================================================== -->\n\t\t\t\t\t<table class=\"head-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"header container\" style=\"display:block; max-width:600px; margin:0 auto; clear:both;\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" align=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t<font style=\"font-size:12px; font-family:Arial, Helvetica, sans-serif; color:#aaaaaa\">\n\t\t\t\t\t\t\t\t\t\t\t\tGreat Looks to mesmerize her\n\t\t\t\t\t\t\t\t\t\t\t</font>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"head-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"header container\" style=\"display:block; max-width:600px; margin:0 auto; clear:both;\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"left\" width=\"50%\">\n\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Head:Head:Head:genImg1:R2;C1\" style=\"text-decoration:none;display:table;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Head%3AHead%3AHead%3AgenImg1%3AR2%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2F\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://img1a.flixcart.com/www/email/images/20150609-173157-logopsd__1_.png\" alt=\"Flipkart.com\" style=\"border:none;color:#818181;font-size:9px;display:table-cell; margin-right: 5px;\">\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"right\" width=\"25%\">\n\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Head:Head:Head:genImg1:R2;C1\" style=\"text-decoration:none;display:table;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Head%3AHead%3AHead%3AgenImg1%3AR2%3BC1&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmobile-apps\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://img1a.flixcart.com/www/email/images/20150609-174458-app.png\" alt=\"Flipkart.com\" style=\"border:none;color:#818181;font-size:9px;display:table-cell; margin-right: 5px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" color=\"#666666\" style=\"display:table-cell; font-weight: bold; vertical-align:middle; text-align:left; text-transform:uppercase;font-size: 10px;\">Mobile App</font>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"right\" width=\"25%\">\n\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Head:Head:Head:genImg1:R2;C1\" style=\"text-decoration:none;display:table;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Head%3AHead%3AHead%3AgenImg1%3AR2%3BC1&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Fbuy-gift-voucher\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://img1a.flixcart.com/www/email/images/20150609-174426-gift.png\" alt=\"Flipkart.com\" style=\"border:none;color:#818181;font-size:9px;display:table-cell; margin-right: 5px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" color=\"#666666\" style=\"display:table-cell; font-weight: bold; vertical-align:middle; text-align:left; text-transform:uppercase;font-size: 10px;\">Gift Voucher</font>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"menu-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#FFFFFF; display:block; line-height:20px; font-weight:600; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\n\t\t\t\t\t\t\t\t<!-- Mobiles and Apparels -->\n\n\t\t\t\t\t\t\t<div>\t\n\t\t\t\t\t\t\n       \t\t\t\t\t\t\t<table width=\"100%\" style=\"width:100%;\" cellspacing=\"0\" cellpadding=\"5\" border=\"0\" style=\"background-color:#333333;\" bgcolor=\"#333333\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"21%\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a style=\"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight:400;line-height: 24px;text-align: center;font-size: 12px; color: #FFFFFF; letter-spacing:0.2px; text-transform:uppercase; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=-&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmobiles%3Fotracker%3Dhp_nmenu_sub_electronics_0_Mobiles\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMobiles\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"1%\" style=\"color:#efefef;\">&nbsp;|&nbsp;</td>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"25%\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a style=\"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight:400;line-height: 24px;text-align: center;font-size: 12px; color: #FFFFFF; letter-spacing:0.2px; text-transform:uppercase; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=-&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Foffers%2Fwomens-lifestyle%3Fotracker%3Dfoz_menu_womens-lifestyle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tLifestyle\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"1%\" style=\"color:#efefef;\">&nbsp;|&nbsp;</td>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"21%\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a style=\"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight:400;line-height: 24px;text-align: center;font-size: 12px; color: #FFFFFF; letter-spacing:0.2px; text-transform:uppercase; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=-&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Foffers%2Fhome-and-kitchen%3Fotracker%3Dfoz_menu_home-and-kitchen\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"1%\" style=\"color:#efefef;\">&nbsp;|&nbsp;</td>\n\t\t\t\t\t\t\t\t\t\t\t<td width=\"30%\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a style=\"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight:400;line-height: 24px;text-align: center;font-size: 12px; color: #FFFFFF; letter-spacing:0.2px; text-transform:uppercase; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=-&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Foffers%3Fotracker%3Dnmenu_offer-zone\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOffer&nbsp;&nbsp;Zone\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n     \t\t\t\t\t\t</div>\n\n     \t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"clear\" style=\"display: block; clear: both;\"></div>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMQ32CEYENX6:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMQ32CEYENX6%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing-store%3Fotracker%3Dnmenu_sub_Men_0_Clothing\" target=\"_blank\">\n\t<img alt=\"Date Night\" src=\"https://img1a.flixcart.com/www/email/images/20170217-154348-EOSS_Men_VD_01__1_.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMYK6CW5Z9YE:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMYK6CW5Z9YE%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing%2F%7Ecasual-wears%2Fpr%3Fsid%3D2oq%252Cs9b%26p%255B%255D%3Dfacets.filter_standard%25255B%25255D%253D1%26facets.availability%5B%5D%3DExclude%2BOut%2Bof%2BStock%26otracker%3Dclp_metro_tile3_1_mensclothingclp_mens-clothing-store_46ea1def-9b26-4b4c-a489-12301b49ca28_wp2\" target=\"_blank\">\n\t<img alt=\"Casual Charmer\" src=\"https://img1a.flixcart.com/www/email/images/20170217-154608-EOSS_Men_VD_02.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CM9XVLNKGFPV:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CM9XVLNKGFPV%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing%2Fshirts%2Fpr%3Fsid%3D2oq%252Fs9b%252Fmg4%26p%255B%255D%3Dfacets.theme%25255B%25255D%253DParty%252BLook%26p%255B%255D%3Dfacets.filter_standard%25255B%25255D%253D1%26facets.availability%5B%5D%3DExclude%2BOut%2Bof%2BStock%26otracker%3Dclp_banner_2_bannerX3Widget8_mens-clothing-store_6ac1653d-4659-4e17-b2e2-86d0a80f5b83_wp9\" target=\"_blank\">\n\t<img alt=\"Fancy Dresser\" src=\"https://img1a.flixcart.com/www/email/images/20170217-154750-EOSS_Men_VD_03.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMFW283LPDEI:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMFW283LPDEI%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing%2Ftshirts%2Fpr%3Fotracker%3Dcategorytree%26p%255B%255D%3Dfacets.theme%25255B%25255D%253DColor%252BBlocked%252BTees%26sid%3D2oq%252Fs9b%252Fj9y\" target=\"_blank\">\n\t<img alt=\"Datenightcolourblocked\" src=\"https://img1a.flixcart.com/www/email/images/20170216-185336-EOSS_Men_VD_04.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CM5T8H3T9H7H:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CM5T8H3T9H7H%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing%2Fshirts%2Fpr%3Fotracker%3Dnmenu_sub_Men_0_Shirts%26p%255B%255D%3Dfacets.theme%25255B%25255D%253DParty%252BLook%26sid%3D2oq%252Fs9b%252Fmg4\" target=\"_blank\">\n\t<img alt=\"Datenightpartyshirts\" src=\"https://img1a.flixcart.com/www/email/images/20170216-185344-EOSS_Men_VD_05.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMHA58KAQQU7:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMHA58KAQQU7%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing%2Fjeans%2Fpr%3Fotracker%3Dcategorytree%26p%255B%255D%3Dfacets.theme%25255B%25255D%253DSolid%252BDenims%26sid%3D2oq%252Fs9b%252F94h\" target=\"_blank\">\n\t<img alt=\"Datenightwasheddenims\" src=\"https://img1a.flixcart.com/www/email/images/20170216-185411-EOSS_Men_VD_06.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMV82LDFXFH3:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMV82LDFXFH3%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-clothing%2Ftrousers%2F%7Eformal-wear%2Fpr%3Fsid%3D2oq%2Cs9b%2C9uj%26otracker%3Dcategorytree\" target=\"_blank\">\n\t<img alt=\"Datenightpants\" src=\"https://img1a.flixcart.com/www/email/images/20170216-185419-EOSS_Men_VD_07.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMDD8VJR12LX:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMDD8VJR12LX%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fbags-wallets-belts%2Fbags%2Fmessenger-bags%2Fpr%3Fp%255B%255D%3Dfacets.ideal_for%25255B%25255D%253DBoys%26p%255B%255D%3Dfacets.ideal_for%25255B%25255D%253DBoys%252B%252526%252BGirls%26p%255B%255D%3Dfacets.ideal_for%25255B%25255D%253DMen%26p%255B%255D%3Dfacets.ideal_for%25255B%25255D%253DMen%252B%252526%252BWomen%26sid%3Dreh%252Fihu%252Fpsb\" target=\"_blank\">\n\t<img alt=\"Messenger Bags\" src=\"https://img1a.flixcart.com/www/email/images/20170217-103957-EOSS_Men_VD_10.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CM192LMKENYH:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CM192LMKENYH%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fwatches%2Fwrist-watches%2Fpr%3Fp%255B%255D%3Dfacets.brand%25255B%25255D%253DArmani%252BExchange%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DCitizen%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DEmporio%252BArmani%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DFossil%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DGuess%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DMichael%252BKors%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DSeiko%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DTissot%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DVictorinox%26p%255B%255D%3Dfacets.ideal_for%25255B%25255D%253DMen%26sid%3Dr18%252Ff13\" target=\"_blank\">\n\t<img alt=\"Premium Watches\" src=\"https://img1a.flixcart.com/www/email/images/20170217-103511-EOSS_Men_VD_09.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMESCMACR54E:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMESCMACR54E%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-footwear%2Fcasual-shoes%2Fpr%3Fotracker%3Dcategorytree%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DAdidas%252BNeo%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DFila%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DFlying%252BMachine%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DGlobalite%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DLee%252BCooper%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DLevi%252527s%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DPeter%252BEngland%252BPE%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DProvogue%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DPuma%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DReebok%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DSparx%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DUnited%252BColors%252Bof%252BBenetton%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DVANS%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DWoodland%26sid%3Dosp%252Fcil%252Fe1f\" target=\"_blank\">\n\t<img alt=\"Men's Footwear\" src=\"http://img10a.flixcart.com/www/email/images/20170217-123738-EOSS_Men_VD_12.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMSJHZSCJJAJ:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMSJHZSCJJAJ%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Fmens-footwear%2Fformal-shoes%2Fpr%3Fotracker%3Dnmenu_sub_Men_0_Formal%2BShoes%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DAndrew%252BScott%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DArrow%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DBacca%252BBucci%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DBata%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DFoot%252Bn%252BStyle%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DHush%252BPuppies%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DKnotty%252BDerby%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DLee%252BCooper%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DPeter%252BEngland%252BPE%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DProvogue%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DRed%252BTape%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DRuosh%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DShoetopia%26p%255B%255D%3Dfacets.brand%25255B%25255D%253DVulcan%252BKnight%26sid%3Dosp%252Fcil%252Fssb\" target=\"_blank\">\n\t<img alt=\"Formal shoes\" src=\"http://img10a.flixcart.com/www/email/images/20170217-123707-EOSS_Men_VD_13.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<table class=\"body-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"background: #ffffff; color:#ffffff; display:block; line-height:20px; font-weight:300; max-width:600px; margin:0 auto; clear:both;\" bgcolor=\"#ffffff\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;border-bottom-width:1px;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMXDPH8JO7DP:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMXDPH8JO7DP%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2F\" target=\"_blank\">\n\t<img alt=\"Flipkart\" src=\"https://img1a.flixcart.com/www/email/images/20141110-165654-pixel.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t <td width=\"__PWIDTH__%\"> \n\t\t\t\t\n<!--Block of intro copy -->\n<a lname=\"CMSC3NBQHHMI:NIL:AD:prodImg1:R1;C1\" style=\"display:block;border:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=CMSC3NBQHHMI%3ANIL%3AAD%3AprodImg1%3AR1%3BC1&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2F\" target=\"_blank\">\n\t<img alt=\"Flipkart\" src=\"https://img1a.flixcart.com/www/email/images/20141110-165654-pixel.jpg\" style=\"background-color:#F6F2E9; border:none; color:#818181; display:block; font-size:9px; max-width:100%;\" width=\"100%\">\n</a>\n\t\t\t\t\t </td> \n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t<!-- ============================================================== -->\n\t\t\t\t\t\t\t\t\t\t<!-- Footer Text -->\n\t\t\t\t\t<!-- ============================================================== -->\n\n\t\t\t\t\t<table class=\"head-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"header container\" style=\"display:block; max-width:600px; margin:5px auto; clear:both;\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"left\" width=\"15%;min-width: 92px;\">\n\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Head:Head:Head:genImg1:R2;C1\" style=\"text-decoration:none;display:table;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Head%3AHead%3AHead%3AgenImg1%3AR2%3BC1&url=http%3A%2F%2Fdl.flipkart.com%2Fdl%2Fflipkart-assured\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img height=\"24\" src=\"https://img1a.flixcart.com/www/linchpin/fk-cp-zion/img/fa_8b4b59.png\" alt=\"Flipkart.com\" style=\"border:none;color:#818181;font-size:9px;display:table-cell;min-width:92px;\">\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"left\" width=\"40%\">\n\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" style=\"display:table-cell; font-weight: 500; vertical-align:middle; text-align:left;font-size: 14px;padding-left: 10px;font-style: italic; color: #717171;\">Quality Products. Delivered Fast.</font>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"left\" width=\"20%\">\n\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" style=\"display:table-cell; font-weight: 500; vertical-align:middle; text-align:left;font-size: 12px;padding-left: 5px;font-style: italic; color: #717171;\"><span style=\"font-weight:900;color:#16be48;\">&#10003;</span> 6 Quality Checks</font>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"middle\" height=\"50\" align=\"left\" width=\"25%\">\n\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" style=\"display:table-cell; font-weight: 500; vertical-align:middle; text-align:left;font-size: 12px;padding-left: 5px;font-style: italic; color: #717171;\"><span style=\"font-weight:900;color:#16be48;\">&#10003;</span> Fast & Free Delivery <sup><span style=\"font-style: normal; color: #000;\"><b>&#8224;</b></span></sup></font>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"footer-wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"container\" style=\"border-top:3px solid #333333; display:block; max-width:600px; margin:0 auto; clear:both;\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"top\" width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"float:right;color: #414041;\"><sup><b>&#8224;</b></sup>  on orders above Rs.500</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td align=\"center\" valign=\"top\" width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Foot:Foot:Foot:genImg3:R1;C1\" style=\"border:0; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Foot%3AFoot%3AFoot%3AgenImg3%3AR1%3BC1&url=https%3A%2F%2Fwww.facebook.com%2Fflipkart\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://img1a.flixcart.com/www/email/images/20150302-161344-flipkartFacebook.gif\" style=\"vertical-align:middle; border:none;color:#818181;font-size:9px;\">\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Foot:Foot:Foot:genTxt4:R1;C2\" style=\"border:0; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Foot%3AFoot%3AFoot%3AgenTxt4%3AR1%3BC2&url=https%3A%2F%2Fwww.twitter.com%2Fflipkart\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://img1a.flixcart.com/www/email/images/20150302-161353-flipkartTwitter.gif\" style=\"vertical-align:middle;border:none;color:#818181;font-size:9px;\">\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a lname=\"Foot:Foot:Foot:genTxt5:R1;C2\" style=\"border:0; text-decoration:none;\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=Foot%3AFoot%3AFoot%3AgenTxt5%3AR1%3BC2&url=https%3A%2F%2Finstagram.com%2Fflipkart%2F\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://img1a.flixcart.com/www/email/images/20150302-161334-flipkartInstagram.gif\" style=\"vertical-align:middle;border:none;color:#818181;font-size:9px;\">\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\n\t\t\t\t\t\t\t\t<table width=\"100%\" cellspacing=\"5\" cellpadding=\"0\" align=\"center\" style=\"font-family:Arial,serif;font-size:12px;font-weight:300;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td align=\"center\" valign=\"top\" width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" color=\"#333333\" size=\"-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tYou may set your communication preferences <font style=\"font-size:12px; font-family:Arial, Helvetica, sans-serif; color:#aaaaaa\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a lname=\"\" href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Faccount%2Fsubscriptions%3Fauth%3DG1qkVIaUaGffiHula018XKOs0u6VcihczvAczfF2RuRDs%3D\">here</a>\n\t\t\t\t\t\t\t\t\t\t\t</font>\n\t\t\t\t\t\t\t\t\t\t\t</font>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td align=\"center\" valign=\"top\" width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t<font face=\"Arial, sans-serif\" color=\"#333333\" size=\"-1\">\n\t\t\t\t\t\t\t\t\t\t\t\tWe hope you enjoy receiving news and special offer emails from Flipkart.com. If you would prefer not receiving our emails, please <a href=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=click&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=-&url=https%3A%2F%2Fdl.flipkart.com%2Fdl%2Faccount%2Fsubscriptions%3Fauth%3DG1qkVIaUaGffiHula018XKOs0u6VcihczvAczfF2RuRDs%3D\">click here</a> to unsubscribe. <font style=\"font-size:12px; font-family:Arial, Helvetica, sans-serif; color:#aaaaaa\">\n\t\t\t\t\t\t\t\t\t\t\t</font>\n\t\t\t\t\t\t\t\t\t\t\t</font>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td></td>\t\t\t\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table><!-- /FOOTER -->\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\n\t\t<!--[if (gte mso 9)|(IE)]>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t\t<![endif]-->\n\t<img style='width:1px;height:1px;' src=\"http://www.flipkart.com/ch.php?affid=EM-MAI0D7CNH0NXC6O&utm_medium=email&utm_source=promoTE&utm_campaign=EM-MAI0D7CNH0NXC6O&utm_content=open&u=123c76b779e042a392ad9d2372e00b09&cmpid=email_promoTE_EM-MAI0D7CNH0NXC6O&l=openImg&url=http%3A%2F%2Fimg7a.flixcart.com%2Fwww%2Femail%2Fimages%2F20150520-144253-track.png\"/></body>\n</html>
      """.stripMargin


    1 to 10 foreach profile("run"){
      TrackingService.trackHTML(html,trackerOptions, transformer)
    }

    println("Mean= %f".format( registry.timer(getMetricName("run")).getSnapshot.getMean / OneMili ))
    println("95th= %f" .format( registry.timer(getMetricName("run")).getSnapshot.get95thPercentile()/ OneMili))
    println("99th= %f" .format( registry.timer(getMetricName("run")).getSnapshot.get99thPercentile() / OneMili))





    true shouldEqual true
  }

}
